<div class="card no-border">
  <div class="row" fxLayout="row" fxLayoutAlign="space-between center">
    <div class="label">Težavnost</div>
    <span class="text-right">
      <span *ngIf="route.isProject">P</span>
      <app-grade
        *ngIf="!route.isProject"
        [difficulty]="route.difficulty"
        [gradingSystemId]="route.defaultGradingSystem.id"
        [showModifier]="true"
      ></app-grade>
    </span>
  </div>
  <div
    class="row"
    fxLayout="row"
    fxLayoutAlign="space-between center"
    *ngIf="route.pitches.length > 0"
  >
    <div class="label">Raztežaji</div>
    <span>
      <text *ngFor="let pitch of route.pitches; let isLast = last"
        ><span *ngIf="pitch.isProject">P</span>
        <app-grade
          *ngIf="!pitch.isProject"
          [difficulty]="pitch.difficulty"
          [gradingSystemId]="route.defaultGradingSystem.id"
          [showModifier]="true"
        ></app-grade
        >{{ isLast ? "" : ", " }}</text
      >
    </span>
  </div>
  <div class="row" fxLayout="row" fxLayoutAlign="space-between center">
    <div class="label">Dolžina</div>
    <span class="text-right"> {{ route.length }} m </span>
  </div>
  <div
    class="row"
    fxLayout="row"
    fxLayoutAlign="space-between center"
    *ngIf="author"
  >
    <div class="label">Avtor</div>
    <span class="text-right">
      {{ author }}
    </span>
  </div>
  <div
    class="row"
    fxLayout="row"
    fxLayoutAlign="space-between center"
    *ngIf="firstAscent"
  >
    <div class="label">Prvi vzpon</div>
    <span class="text-right">
      {{ firstAscent }}
    </span>
  </div>
</div>

<div class="card padding">
  <h4>Ocene uporabnikov</h4>
  <app-distribution-chart
    [distribution]="gradesDistribution"
    fxFlexAlign="stretch"
  ></app-distribution-chart>
  <app-route-grades
    fxFlexAlign="stretch"
    [grades]="grades"
    [difficulty]="route.difficulty"
    [gradingSystemId]="route.defaultGradingSystem.id"
  ></app-route-grades>
</div>
