<app-data-error *ngIf="error" [error]="error"></app-data-error>

<app-loader *ngIf="loading"></app-loader>

<div *ngIf="!error && !loading">
  <div class="white-back mt-16">
    <div class="container py-8">
      <h1>{{ route.name }}</h1>
    </div>
  </div>

  <div class="container mt-16">
    <div *ngIf="route.publishStatus === 'draft'" class="card padding warn">
      Smer je v statusu osnutek, zato je trenutno vidna samo tebi. Če si
      zaključil z urejanjem podatkov o smeri,
      <a [routerLink]="['/admin/prispevki']">predlagaj administratorju objavo</a
      >.
    </div>

    <div
      *ngIf="route.publishStatus === 'in_review'"
      class="card padding notice"
    >
      Smer je v pregledu pri administratorju.
    </div>
  </div>

  <app-warnings *ngIf="warnings" [warnings]="warnings"></app-warnings>

  <div
    class="container mt-16"
    fxLayout="row"
    fxLayoutGap="12px"
    fxLayout.lt-md="column"
  >
    <div fxFlex="320px" fxFlex.lt-md>
      <app-route-info [route]="route"></app-route-info>
    </div>
    <div
      fxFlex="100"
      fxFlex.lt-md
      fxLayout="column"
      fxLayoutGap="0px"
      fxLayoutGap.lt-md="12px"
    >
      <app-crag-gallery [images]="route.images"></app-crag-gallery>
      <app-route-comments
        [comments]="route.comments"
        [action$]="action$"
      ></app-route-comments>
    </div>
  </div>
</div>
